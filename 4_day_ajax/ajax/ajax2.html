<!DOCTYPE html>
<html>
    <head>
        <title>AJAX #2</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <script type="text/javascript" src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    </head>
    <body onload=show()>
        <div id="demo">
           
        </div>
        
        <script type="text/javascript">
            function show() {
                $(document).ready(function() {
                    $.ajax({
                    	url: "task4_5.php", success: function(result){
                        	$("#demo").html(result);
                    	}
                	});
          		 });
        	}
         	function del(id) {
            	$(document).ready(function() {
				var action = 'removeProduct';
					$.ajax ({
						type: "POST",
						url: "task4_5.php",
						data: {
							id:id,
							action:action
						},
					success: function(result){
                    	$("#demo").html(result);
                    }
        			});
				});
        	}
        	function show_ins_form() {
            	$(document).ready(function() {
                	$.ajax({
                    	url: "form.php", success: function(result){
                        	$("#form").html(result);
                    	}
                	});
            	});
        	}
         	function show_up_form(id) {
           		$(document).ready(function() {
					$.ajax ({
						type: "POST",
						url: "form_up.php",
						data: {
							id:id
						}
					})
				.done(function(data) {
					var newHTML;
					newHTML = data;
					$('#form').html(newHTML);
				});
				});
        	}
        	function add() {
           		$(document).ready(function() {
			  		var action = 'addProduct';
					var name = $('#name').val();
					var price = $('#price').val();
					$.ajax ({
						type: "POST",
						url: "task4_5.php",
						data: {
							action:action,
							name:name,
							price:price
						}
					})
					.done(function(data) {
						var newHTML;
						newHTML = data;
						$('#demo').html(newHTML);
						var newHTML2;
						newHTML2 = '';
						$('#form').html(newHTML2);
					});
				});
        	}
        	function update(id) {
           		$(document).ready(function() {
			  		var action = 'updateProduct';
					var name = $('#name').val();
					var price = $('#price').val();
					$.ajax ({
						type: "POST",
						url: "task4_5.php",
						data: {
							id:id,
							action:action,
							name:name,
							price:price
						}
					})
					.done(function(data) {
						var newHTML;
						newHTML = data;
						$('#demo').html(newHTML);
						var newHTML2;
						newHTML2 = '';
						$('#form').html(newHTML2);
					});
				});
        	}
        </script>
        <div id="form"></div>
    </body>
</html>
